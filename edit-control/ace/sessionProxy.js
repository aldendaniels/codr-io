define(["require","jquery","helpers/helpers-web"],function(e){function i(e){t("body").toggleClass("logged-in",e.bLoggedIn),e.bLoggedIn&&(t("#home-greeting-username").text(e.sUsername),t("#workspace-greeting-username").text(e.sUsername))}var t=e("jquery"),n=e("helpers/helpers-web"),r=function(){function i(t,r){if(e){n.assert(!1,"You can not call setSessionInfoCallback twice.");return}var i=n.createCallback(t,r);o()!==null&&i(o()),a(i)}function s(){try{return"localStorage"in window&&window.localStorage!==null}catch(e){return!1}}function o(){if(s()){var e=window.localStorage.getItem(r);return e?JSON.parse(e):null}return null}function u(e){s()&&window.localStorage.setItem(r,JSON.stringify(e))}function a(e){t.getJSON("/userInfo/",function(t){u(t),e(t)})}var e=!1,r="codr-io/local";return i}();r(this,i)});