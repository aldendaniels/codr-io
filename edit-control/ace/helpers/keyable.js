define(["require","jquery","helpers/helpers-web"],function(e){var t=e("jquery"),n=e("helpers/helpers-web");return n.createClass({_jParent:null,_sIDAttr:"",_bAttached:!1,_jKeyables:null,_jSelected:null,__init__:function(e,n){this._jParent=t(e),this._sIDAttr=n,this.update()},attach:function(){this._jSelected.addClass("current"),this._bAttached=!0},detach:function(){this._jSelected.removeClass("current"),this._bAttached=!1},update:function(e){this._jKeyables=this._jParent.find(".keyable");if(e&&this._jSelected){var n=this._jSelected.attr(this._sIDAttr),r=this._jKeyables.filter("["+this._sIDAttr+'="'+n+'"]');if(r){this.select(r);return}}this.select(t(this._jKeyables[0]))},select:function(e){this._jSelected=t(e),this._bAttached&&(this._jKeyables.removeClass("current"),this._jSelected.addClass("current"))},moveDown:function(){var e=this._jKeyables.index(this._jSelected);e<this._jKeyables.length-1&&this.select(this._jKeyables[e+1],!0)},moveUp:function(){var e=this._jKeyables.index(this._jSelected);e>0&&this.select(this._jKeyables[e-1],!0)},getSelected:function(){return this._jSelected}})});