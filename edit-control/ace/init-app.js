define(["require","jquery","helpers/helpers-web","edit-control/modes"],function(e){function i(e){var i=r.createModeMenu("#modes",this,function(t){e(t)});i.focusInput(),n.on(window,"mousedown.home",this,function(e){t(e.target).is("input, textarea")||e.preventDefault()}),n.on(window,"click.home keyup.home keydown.home",this,function(e){t(e.target).parents("#home #modes").length>0&&i.onEvent(e)})}function s(n,r,i){e(["workspace"],function(e,s){var o=new e(n,r,i);n&&(t("BODY").removeClass("home"),t(window).off(".home"))})}var t=e("jquery"),n=e("helpers/helpers-web"),r=e("edit-control/modes");return function(e,t){e?i(function(n){s(e,t,n)}):s(e,t,null)}});