<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Codr</title>
        <link rel=StyleSheet href="/stylesheets/index.css" type="text/css" />
        <link rel=StyleSheet href="/stylesheets/menu.css" type="text/css" />
        <link rel=StyleSheet href="/fontello/css/fontello.css" type="text/css" />
        
        <link href='http://fonts.googleapis.com/css?family=Sanchez' rel='stylesheet' type='text/css'>
    </head>
    <body>
        
        <script type="text/javascript">
            var IS_NEW_DOCUMENT = window.location.pathname === '/';
            var IS_SNAPSHOT = /^\/snapshot/.test(window.location.pathname);
            if (IS_NEW_DOCUMENT) // New document.
                document.body.className = "home";
        </script>
        
        <div id="home">
            <div id="home-content">
                <h3 class="logo">codr<span class="io">.io</span></h3>
                <div id="modes"></div>
            </div>
        </div>
        
        <div id="workspace" class="">
            <div id="toolbar-top">
                
                <a id="toolbar-logo" href="http://codr.io/">
                    <i class="icon-cloud left-icon"></i>
                    <i class="icon-code left-icon"></i>
                </a>
                <div class="divider"></div>
                
                <div id="title" class="toolbar-item text-input-menu">
                    <div class="toolbar-item-btn">
                        <div class="toolbar-item-caption">Title</div>
                        <div class="toolbar-item-selection">Loading...</div>
                    </div>
                    <div class="toolbar-dropdown-top-border"></div>
                    <div class="toolbar-dropdown">
                        <div id="title-message" class="edit-mode-message">Edit mode required to make changes</div>
                        <input type="text" id="title-input" disabled=disabled></input>
                        <div class="horizontal-divider"></div>
                        <button id="title-save" disabled=disabled>Save</button>
                        <div class="hidden-focusable">
                            <a href="javascript:void(0)">#</a>
                        </div>
                    </div>
                </div>
                <div class="divider"></div>
                
                <div id="mode" class="toolbar-item">
                    <div class="toolbar-item-btn">
                        <div class="toolbar-item-caption">Language</div>
                        <div class="toolbar-item-selection">Loading...</div>
                    </div>
                    <div class="toolbar-dropdown-top-border"></div>
                    <div class="toolbar-dropdown">
                        <div id="mode-message" class="edit-mode-message">Edit mode required to make changes</div>
                        <div id="mode-menu"></div>
                    </div>
                </div>
                <div class="divider"></div>
                
                <div id="toolbar-content-right">
                    
                    <div class="divider"></div>
                    <button id="edit-button" class="disable-hover"><i class="icon-check"></i>
                        <i class="icon-check-empty"></i>
                        <span class="text">Editing</span>
                    </button>
                    <div class="divider"></div>
                </div>
            </div>
            <div id="toolbar-left">
                
                <div id="chat-menu" class="toolbar-item text-input-menu">
                    <div class="toolbar-item-btn">
                        <i class="icon-chat left-icon"></i>
                        <div id="chat-unread-count" style="display: none;"></div>
                    </div>
                    <div class="toolbar-dropdown-left-border"></div>
                    <div class="toolbar-dropdown identify" id="chat">
                        <div id="chat-identify-wrapper">
                            Please identify yourself:
                            <input type="text" id="chat-identify" />
                            <button id="chat-identify-ok-button">Ok</button>
                            <div id="chat-identify-error-message"></div>
                        </div>
                        <div id="chat-history"></div>
                        <div id="chat-typing">
                            <b>Typing: </b><span id="chat-typing-names"></span>
                        </div>
                        <textarea type="text" id="chat-box" disabled="disabled"></textarea>
                    </div>
                </div>
                <div class="divider"></div>
                
                <div id="download-menu" class="toolbar-item text-input-menu">
                    <div class="toolbar-item-btn">
                        <i class="icon-down-circled2 left-icon"></i>
                    </div>
                    <div class="toolbar-dropdown-left-border"></div>
                    <div class="toolbar-dropdown">
                        <input type="text" id="download-as" placeholder="File name"></input>
                        <div class="horizontal-divider"></div>
                        <button id="download">Download</button>
                    </div>
                </div>
                <div class="divider"></div>
                <div id="share-menu" class="toolbar-item text-input-menu">
                    <div class="toolbar-item-btn">
                        <i class="icon-share left-icon"></i>
                    </div>
                    <div class="toolbar-dropdown-left-border"></div>
                    <div class="toolbar-dropdown">
                        Clone document
                        <div class="share-wrapper">
                            <input class="share-copy-input" id="clone-input" disabled="disabled" type="text" placeholder="Result"></input>
                            <button class="share-button" id="clone-button">Create clone:</button>
                        </div>
                        Post to a forum:
                        <div class="share-wrapper">
                            <input class="share-copy-input" id="snapshot-input" disabled="disabled" type="text" placeholder="Result"></input>
                            <button class="share-button" id="snapshot-button">Create snapshot</button>
                        </div>
                        Collaborate:
                        <input id="collaborate-url" type="text" placeholder="Result"></input>
                    </div>
                </div>
                <div class="divider"></div>
            </div>
            <div id="edit"></div>
            <div id="summary-bar">
                <table>
                    <tr>
                        <td>
                            <span id="num-viewing"></span> |
                            <span id="editors-name"></span>
                        </td>
                        <td id="summary-bar-right-section">
                            ln: <span id="line-number">0</span> | 
                            col: <span id="col-number">0</span>
                        </td>
                    </tr>
                </table>
            </div>
        </div>
        
        <!-- Load menu chooser -->
        <script type="text/javascript" src="/javascripts/helpers/jquery-2.0.2.min.js"></script>
        <script type="text/javascript" src="/javascripts/helpers/helpers.js"></script>
        <script type="text/javascript" src="/javascripts/helpers/keyable.js"></script>
        <script type="text/javascript" src="/javascripts/helpers/menu.js"></script>
        <script type="text/javascript" src="/javascripts/ace-mode-list.js"></script>
        <script type="text/javascript" src="/javascripts/init-app.js"></script>
        <script type="text/javascript">
            if (IS_NEW_DOCUMENT)
            {
                oInitApp.initModeChooser();
            }
        </script>
        
        <!-- Load workspace -->
        <script type="text/javascript" src="/javascripts/ace/ace.js"></script>
        <script type="text/javascript" src="/javascripts/editor.js"></script>
        <script type="text/javascript" src="/javascripts/helpers/jquery-selectors.js"></script>
        <script type="text/javascript" src="/javascripts/chat.js"></script>
        <script type="text/javascript" src="/javascripts/toolbar.js"></script>
        <script type="text/javascript" src="/javascripts/workspace.js"></script>
        <script type="text/javascript">
            if (!IS_NEW_DOCUMENT) /* A new document connects on mode choice*/
            {
                oInitApp.initWorkspace();

                if (IS_SNAPSHOT)
                    oInitApp.getSnapshotData();
            }
        </script>
        
    </body>
</html>

